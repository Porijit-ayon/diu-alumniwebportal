(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1],{3066:function(e,n,r){"use strict";var s=r(2640);r(7294);var i=r(5339),t=r(489),l=r(5832),a=r(5152),c=r.n(a),o=r(5893);function d(e){var n=e.children,r=(0,l._)("userInfo"),a=(0,s.Z)(r,1)[0];return a&&a.isAdmin?(0,o.jsx)(o.Fragment,{children:n}):(0,o.jsx)(t.Z,{pageTitle:"login",children:(0,o.jsx)(i.Z,{})})}n.Z=c()(function(){return Promise.resolve(d)},{ssr:!1})},6152:function(e,n,r){"use strict";r.d(n,{Z:function(){return _}});var s=r(6447),i=r(7357),t=r(5113),l=r(3156);r(7294);var a=r(9008),c=r.n(a),o=r(5861),d=r(7720),u=r(8462),h=r(7212),x=r(8619),p=r(8885),j=r(9334),f=r(8567),Z=r(5709),g=r(2684),m=r(2348),v=r(5675),b=r.n(v),w=r(1163),y=r(5893);function k(){var e=(0,w.useRouter)();return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)(o.Z,{sx:{textAlign:"center",padding:"13px"},children:[(0,y.jsx)(b(),{src:"/img/profile.png",alt:"Profile",width:100,height:100,quality:100}),(0,y.jsx)(d.Z,{children:"Admin"})]}),(0,y.jsxs)(u.Z,{dense:!0,sx:{width:"90%",marginX:"auto"},children:[(0,y.jsx)(h.ZP,{disablePadding:!0,children:(0,y.jsxs)(x.Z,{onClick:function(){return e.push("/dashboard")},children:[(0,y.jsx)(p.Z,{children:(0,y.jsx)(Z.Z,{})}),(0,y.jsx)(j.Z,{children:"Dashboard"})]})}),(0,y.jsx)(h.ZP,{disablePadding:!0,children:(0,y.jsxs)(x.Z,{onClick:function(){return e.push("/dashboard/manage-alumni")},children:[(0,y.jsx)(p.Z,{children:(0,y.jsx)(g.Z,{})}),(0,y.jsx)(j.Z,{children:"Manage Alumni"})]})}),(0,y.jsx)(h.ZP,{disablePadding:!0,children:(0,y.jsxs)(x.Z,{onClick:function(){return e.push("/dashboard/manage-poll")},children:[(0,y.jsx)(p.Z,{children:(0,y.jsx)(m.Z,{})}),(0,y.jsx)(j.Z,{children:"Manage Poll"})]})}),(0,y.jsx)(h.ZP,{disablePadding:!0,children:(0,y.jsxs)(x.Z,{onClick:function(){e.push("/password-reset")},children:[(0,y.jsx)(p.Z,{children:(0,y.jsx)(f.Z,{sx:{color:"green"}})}),(0,y.jsx)(j.Z,{sx:{color:"green"},children:"Change Password"})]})})]})]})}var C=r(5152);function P(e){var n=e.children,r=e.pageTitle;return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(c(),{children:(0,y.jsx)("title",{children:r?"Alumni System | "+r:"Dashboard"})}),(0,y.jsxs)(s.Z,{direction:"row",sx:{backgroundColor:"#F9FBFA"},children:[(0,y.jsx)(i.Z,{sx:{display:{xs:"none",sm:"none",md:"block"},minHeight:"100vh",width:"250px"},children:(0,y.jsx)(t.Z,{sx:{position:"fixed",width:"280px",height:"100vh"},children:(0,y.jsx)(k,{})})}),(0,y.jsx)(i.Z,{sx:{flexGrow:1,minHeight:"100vh",marginBottom:"100px"},children:(0,y.jsx)(l.Z,{sx:{marginTop:"10px"},children:(0,y.jsx)(t.Z,{sx:{mx:"20px",p:"20px"},children:n})})})]})]})}var _=r.n(C)()(function(){return Promise.resolve(P)},{ssr:!1})},489:function(e,n,r){"use strict";r.d(n,{Z:function(){return u}});var s=r(9008),i=r.n(s);r(7294);var t=r(891),l=r(1145),a=r(6447),c=r(5861),o=r(1057),d=r(5893);function u(e){var n=e.children,r=e.pageTitle;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(i(),{children:(0,d.jsx)("title",{children:r?"Alumni System | "+r:"Wellcome to alumni system"})}),(0,d.jsxs)(a.Z,{direction:"row",style:{backgroundColor:"#2E3094",color:"#ffffff",paddingRight:"20px"},children:[(0,d.jsx)(c.Z,{flexGrow:1}),(0,d.jsx)(o.Z,{href:"mailto:projit@diu.edi.bd",startIcon:(0,d.jsx)(t.Z,{}),sx:{color:"#ffffff",textTransform:"lowercase"},children:"porijit35-2711@diu.edu.bd"}),(0,d.jsx)(o.Z,{href:"tel:+8801733791787",startIcon:(0,d.jsx)(l.Z,{}),sx:{color:"#ffffff"},children:"+8801733791787"})]}),(0,d.jsx)("main",{children:n})]})}},5339:function(e,n,r){"use strict";var s=r(29),i=r(7794),t=r.n(i),l=r(6447),a=r(7357),c=r(5861),o=r(5113),d=r(1903),u=r(1057),h=r(4808),x=r(8456),p=r(7294),j=r(1664),f=r.n(j),Z=r(5675),g=r.n(Z),m=r(2450),v=r(1163),b=r(5601),w=r(5152),y=r.n(w),k=r(9669),C=r.n(k),P=r(5893);function _(){var e,n=(0,p.useState)(!1),r=n[0],i=n[1],j=(0,p.useState)(),Z=j[0],w=j[1],y=(0,p.useState)(),k=y[0],_=y[1],S=(0,p.useState)(),A=S[0],F=S[1],T=(0,p.useContext)(b.v).dispatch,E=(0,v.useRouter)(),R=(e=(0,s.Z)(t().mark(function e(n){var r;return t().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),i(!0),n.target.reset(),e.prev=3,e.next=6,C().post("/api/alumni/login?email=".concat(k,"&password=").concat(A));case 6:if(r=e.sent.data,0!==k.localeCompare(r.email)){e.next=15;break}if(T({type:"USER_LOGIN",payload:r}),!r.isAdmin){e.next=14;break}return e.abrupt("return",E.push("/dashboard"));case 14:return e.abrupt("return",E.push("/alumni/profile"));case 15:w(r),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(3),console.log(e.t0.message);case 21:i(!1);case 22:case"end":return e.stop()}},e,null,[[3,18]])})),function(n){return e.apply(this,arguments)});return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)(l.Z,{direction:"row",spacing:1,sx:{marginTop:"50px"},children:[(0,P.jsx)(a.Z,{sx:{display:{xs:"none",sm:"none",md:"block",lg:"block",xl:"block"},width:"50%"},children:(0,P.jsx)(c.Z,{style:{height:"400px",display:"grid",placeContent:"center"},children:(0,P.jsx)(g(),{src:"/img/alumni.png",alt:"alumni pic",width:400,height:400})})}),(0,P.jsx)(a.Z,{sx:{flexGrow:1,height:"400px",display:"grid",placeContent:"center"},children:(0,P.jsx)(o.Z,{sx:{padding:"20px"},elevation:2,children:(0,P.jsxs)(l.Z,{onSubmit:R,spacing:1,component:"form",children:[(0,P.jsx)(g(),{src:"/img/logo.png",alt:"logo",width:300,height:100}),(0,P.jsx)(c.Z,{align:"center",variant:"bold",component:"h1",children:"Sign in"}),(0,P.jsx)(c.Z,{color:"error",align:"center",children:Z||null}),(0,P.jsx)(d.Z,{label:"Email address",type:"email",placeholder:"E-mail address",size:"small",required:!0,fullWidth:!0,color:"secondary",onChange:function(e){return _(e.target.value)}}),(0,P.jsx)(d.Z,{label:"Password",type:"password",placeholder:"Password",size:"small",required:!0,fullWidth:!0,color:"secondary",InputProps:{endAdornment:(0,P.jsx)(m.Z,{})},onChange:function(e){return F(e.target.value)}}),(0,P.jsx)(c.Z,{align:"center",children:"admin@alumni.com | admin123"}),(0,P.jsx)(a.Z,{style:{textAlign:"center"},children:(0,P.jsx)(u.Z,{type:"submit",variant:"contained",color:"secondary",fullWidth:!0,disableFocusRipple:!0,children:"Login"})}),(0,P.jsx)(c.Z,{children:(0,P.jsx)(f(),{href:"/password-reset",passHress:!0,children:(0,P.jsx)("a",{children:"Forgot password?"})})}),(0,P.jsx)(c.Z,{children:(0,P.jsx)(f(),{href:"/alumni/registration",passHress:!0,children:(0,P.jsx)("a",{style:{color:"green"},children:" Register now"})})})]})})})]}),(0,P.jsx)(h.Z,{open:r,children:(0,P.jsx)(x.Z,{color:"inherit"})})]})}n.Z=y()(function(){return Promise.resolve(_)},{ssr:!1})},6194:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return D}});var s=r(9669),i=r.n(s),t=r(7294),l=r(5948),a=r(8100),c=r(6152),o=r(3066),d=r(29),u=r(7794),h=r.n(u),x=r(5861),p=r(6447),j=r(1903),f=r(1057),Z=r(2882),g=r(7906),m=r(3184),v=r(3816),b=r(3252),w=r(295),y=r(6863),k=r(3946),C=r(4808),P=r(8456),_=r(1163),S=r(1733),A=r(7957),F=r(6540),T=r(6455),E=r.n(T),R=r(5893);function I(e){var n=e.data,r=(0,t.useState)(!1),s=r[0],l=r[1],a=(0,t.useState)(n),c=a[0],o=a[1],u=(0,_.useRouter)();function T(){return(T=(0,d.Z)(h().mark(function e(r){return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:""==r?o(n):o(n.filter(function(e){return e.title==r}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}var I=function(e){var n;E().fire({icon:"question",title:"Are you sure?",text:"You want to dalete this pole",showCancelButton:!0,reverseButtons:!0}).then((n=(0,d.Z)(h().mark(function n(r){var s;return h().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!r.isConfirmed){n.next=8;break}return l(!0),n.next=4,i().delete("/api/admin/deletePoll?id=".concat(e));case 4:s=n.sent.data,l(!1),"Pole has been deleted successfully"==s?E().fire({icon:"success",title:"Success",text:s}).then(function(e){e.isConfirmed&&u.reload(window.location.pathname)}):E().fire({icon:"error",title:"Failed to delete pole",text:s});case 8:case"end":return n.stop()}},n)})),function(e){return n.apply(this,arguments)}))};return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(x.Z,{sx:{color:"gray",mb:"10px"},align:"center",variant:"bold",component:"h1",children:"Manage poll list"}),(0,R.jsxs)(p.Z,{direction:{xs:"column",sm:"column",md:"row"},spacing:2,children:[(0,R.jsx)(j.Z,{type:"search",label:"Search a pole",placeholder:"Search by title",color:"secondary",size:"small",sx:{width:{xs:"350px",sm:"400px",md:"600px"}},onChange:function(e){return function(e){return T.apply(this,arguments)}(e.target.value)}}),(0,R.jsx)(f.Z,{type:"button",disableFocusRipple:!0,variant:"contained",color:"secondary",size:"small",startIcon:(0,R.jsx)(F.Z,{}),onClick:function(){return u.push("/dashboard/manage-poll/create")},children:"Create pole"})]}),(0,R.jsx)(Z.Z,{sx:{border:"1px solid #ccc",marginTop:"25px",borderRadius:"7px"},children:(0,R.jsxs)(g.Z,{children:[(0,R.jsx)(m.Z,{children:(0,R.jsxs)(v.Z,{children:[(0,R.jsx)(b.Z,{children:"Title"}),(0,R.jsx)(b.Z,{children:"Description"}),(0,R.jsx)(b.Z,{children:"Date"}),(0,R.jsx)(b.Z,{children:"Actions"})]})}),(0,R.jsx)(w.Z,{children:c.map(function(e){return(0,R.jsxs)(v.Z,{children:[(0,R.jsx)(b.Z,{children:e.title}),(0,R.jsx)(b.Z,{children:e.description}),(0,R.jsx)(b.Z,{sx:{width:"100px"},children:e.createdAt}),(0,R.jsx)(b.Z,{children:(0,R.jsxs)(y.Z,{children:[(0,R.jsx)(k.Z,{onClick:function(){return I(e._id)},children:(0,R.jsx)(S.Z,{color:"error"})}),(0,R.jsx)(k.Z,{onClick:function(){return u.push("/dashboard/manage-poll/update?id=".concat(e._id))},children:(0,R.jsx)(A.Z,{color:"secondary"})})]})})]},e._id)})})]})}),(0,R.jsx)(C.Z,{open:s,children:(0,R.jsx)(P.Z,{})})]})}var N=function(e){return i().get(e).then(function(e){return e.data})};function D(){var e=(0,a.ZP)("/api/admin/getPollList",N).data;return e?(0,R.jsx)(o.Z,{children:(0,R.jsx)(c.Z,{pageTitle:"Manage pole",children:(0,R.jsx)(I,{data:e})})}):(0,R.jsx)(o.Z,{children:(0,R.jsx)(c.Z,{pageTitle:"Manage poll",children:(0,R.jsxs)("div",{style:{height:"100vh",display:"grid",placeContent:"center"},children:[(0,R.jsx)(l.Z,{}),";"]})})})}},9555:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/manage-poll",function(){return r(6194)}])}},function(e){e.O(0,[669,21,100,664,517,774,888,179],function(){return e(e.s=9555)}),_N_E=e.O()}]);